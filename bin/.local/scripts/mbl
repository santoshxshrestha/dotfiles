#!/usr/bin/env bash
# Check if a session named 'sync' already exists
tmux has-session -t sync 2>/dev/null

# If the session doesn't exist, create it
if [ $? != 0 ]; then
    tmux new-session -s sync:0 -d -c ~/storage/music/Haven/ #name sync:1.1 or 1 because I made it to start form 1
    tmux new-window -t sync:1 -c  ~/storage/music/Eternal-Haven/
    tmux new-window -t sync:2 -c  ~/storage/music/Instrumental-Haven/
    tmux new-window -t sync:3 -c  ~/storage/music/Eternal-Instrumental-Haven/
    tmux send-keys -t sync:0 'yt-dlp -x "https://youtube.com/playlist?list=PLBBcaljFGSiSz8czPRv3tX3C4nKo4On4j&si=YCIbnJX6xgvrvmlV"' C-m
    tmux send-keys -t sync:1 'yt-dlp -x "https://youtube.com/playlist?list=PLBBcaljFGSiSZ5enBdlyxcqu0RZtpuuoq&si=xHGIPd-Uw-7DeBZE"' C-m
    tmux send-keys -t sync:2 'yt-dlp -x "https://youtube.com/playlist?list=PLBBcaljFGSiQb-vXx89JDd9QXoa_iQjGA&si=yIH54ZTJQtO4vzsF"' C-m
    tmux send-keys -t sync:3 'yt-dlp -x "https://youtube.com/playlist?list=PLBBcaljFGSiSMYqaq-Vs-1hmnMyCvzW7D&si=8af86RAPfGnFQ5fE"' C-m

    # Attach to the session
    tmux attach-session -t sync
else
    # If the session exists, just attach to it
    tmux attach-session -t sync
fi
